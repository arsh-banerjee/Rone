(this.webpackJsonprone=this.webpackJsonprone||[]).push([[0],{37:function(e,t,a){},39:function(e,t){},50:function(e,t,a){"use strict";a.r(t);var s=a(9),n=a.n(s),c=a(25),i=a.n(c),l=(a(37),a(18));const o=["function addHash(string memory _hash) public","function findHash(string memory _hash) public view returns (bool)","function getAllHashes() public view returns (string[] memory)"],r="0xC2ff2C30c4d6108804bc09738F1622983333335B";a(48);var h=a(3);var d=function(){const[e]=Object(s.useState)(null),[t,a]=Object(s.useState)(""),[n,c]=Object(s.useState)(""),[i,d]=Object(s.useState)(null),u=function(){const{ethereum:e}=window;if(!e)return void console.error("MetaMask is not installed!");const t=new l.a.providers.Web3Provider(e).getSigner();return new l.a.Contract(r,o,t)}();function j(e,t){let a=0;const s=Math.min(e.length,t.length);for(let n=0;n<s;n++)e[n]!==t[n]&&a++;return a}return Object(h.jsx)("section",{className:"section",children:Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{className:"title",children:"Rone: An application to find image provenance"}),Object(h.jsx)("div",{className:"file has-name is-boxed",children:Object(h.jsxs)("label",{className:"file-label",children:[Object(h.jsx)("input",{className:"file-input",type:"file",onChange:e=>{const t=e.target.files[0];if(t){window.pHash.hash(t).then((e=>{a(e.toHex())})).catch((e=>{console.error("Error computing the image hash:",e)}))}}}),Object(h.jsxs)("span",{className:"file-cta",children:[Object(h.jsx)("span",{className:"file-icon",children:Object(h.jsx)("i",{className:"fas fa-upload"})}),Object(h.jsx)("span",{className:"file-label",children:"Choose a file\u2026"})]}),e&&Object(h.jsx)("span",{className:"file-name",children:e.name})]})}),Object(h.jsx)("button",{className:"button is-primary",onClick:async()=>{if(t.trim())try{const e=await u.addHash(t);await e.wait(),alert("Hash recorded successfully!")}catch(e){alert("Failed to record hash: ".concat(e.message))}else alert("Please upload a file to generate a hash.")},children:"Record Hash of Uploaded Image"}),Object(h.jsxs)("p",{children:["Hash: ",t]}),Object(h.jsx)("h2",{className:"title",children:"Search for an image hash"}),Object(h.jsxs)("div",{className:"field has-addons",children:[Object(h.jsx)("div",{className:"control is-expanded",children:Object(h.jsx)("input",{className:"input",type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"Enter hash to search"})}),Object(h.jsx)("div",{className:"control",children:Object(h.jsx)("button",{className:"button is-link",onClick:async()=>{if(n.trim())try{const e=await u.getAllHashes();let t=null,a=Number.MAX_SAFE_INTEGER;for(const s of e){const e=j(s,n);e<a&&(a=e,t=s)}d(a<2?"Closest match found: ".concat(t," with Hamming distance of ").concat(a):"No similar hash found.")}catch(e){alert("Failed to verify hash: ".concat(e.message))}else alert("Please enter a hash with which to search.")},children:"Search for Hash"})})]}),i&&Object(h.jsx)("p",{className:"verification-result",children:i})]})})};var u=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,52)).then((t=>{let{getCLS:a,getFID:s,getFCP:n,getLCP:c,getTTFB:i}=t;a(e),s(e),n(e),c(e),i(e)}))};i.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(d,{})})),u()}},[[50,1,2]]]);
//# sourceMappingURL=main.0e859025.chunk.js.map